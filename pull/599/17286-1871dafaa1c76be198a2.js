"use strict";(self.webpackChunkterra_ui=self.webpackChunkterra_ui||[]).push([[17286,78996,39915,33442],{73640:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});n(67294);var a=n(81254),r=n(78530),i=["components"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l={},m="wrapper";function d(e){var t=e.components,n=p(e,i);return(0,a.mdx)(m,o({},l,n,{components:t,mdxType:"MDXLayout"}),(0,a.mdx)(r.ZP,{mdxType:"PropsTable"},(0,a.mdx)(r.X2,{key:"ROW1",mdxType:"Row"},(0,a.mdx)(r.O,{mdxType:"PropNameCell"},"children"),(0,a.mdx)(r.Di,{mdxType:"TypeCell"},(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-javascript"},"node\n"))),(0,a.mdx)(r.dS,{isRequired:!1,mdxType:"RequiredCell"}),(0,a.mdx)(r.mW,{mdxType:"DefaultValueCell"},(0,a.mdx)("p",null,"none")),(0,a.mdx)(r.Ex,{mdxType:"DescriptionCell"},(0,a.mdx)("p",null,"Components to render within the context of the NavigationPromptCheckpoint. Any NavigationPrompts rendered within\nthese child components will be registered to this NavigationPromptCheckpoint instance."))),(0,a.mdx)(r.X2,{key:"ROW2",mdxType:"Row"},(0,a.mdx)(r.O,{mdxType:"PropNameCell"},"onPromptChange"),(0,a.mdx)(r.Di,{mdxType:"TypeCell"},(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-javascript"},"func\n"))),(0,a.mdx)(r.dS,{isRequired:!1,mdxType:"RequiredCell"}),(0,a.mdx)(r.mW,{mdxType:"DefaultValueCell"},(0,a.mdx)("p",null,"none")),(0,a.mdx)(r.Ex,{mdxType:"DescriptionCell"},(0,a.mdx)("p",null,"A function that will be executed when NavigationPrompts are registered to or unregistered from the NavigationPromptCheckpoint instance.\nThis can be used to track registered prompts outside of a NavigationPromptCheckpoint and handle prompt resolution directly, if necessary.\nThe function will be provided with an array of data objects representing the registered NavigationPrompts as the sole argument. An empty\nArray will be provided when no prompts are registered."),(0,a.mdx)("p",null,"Function Example:"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre"},"(arrayOfPrompts) => {\n  arrayOfPrompts.forEach((prompt) => {\n    console.log(prompt.description);\n    console.log(prompt.metaData);\n  })\n  this.myLocalPromptRegistry = arrayOfPrompts;\n}\n"))))))}d.isMDXComponent=!0;var s=["components"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var h={},g="wrapper";function x(e){var t=e.components,n=u(e,s);return(0,a.mdx)(g,c({},h,n,{components:t,mdxType:"MDXLayout"}),(0,a.mdx)("h1",{id:"navigationpromptcheckpoint"},"NavigationPromptCheckpoint"),(0,a.mdx)("p",null,"The NavigationPromptCheckpoint serves as a registration gateway for ",(0,a.mdx)("a",{parentName:"p",href:"/terra-ui/pull/599/application/terra-application/components/navigation-prompt"},"NavigationPrompts"),"\nrendered within it. Any NavigationPrompt rendered within the context of a NavigationPromptCheckpoint will register itself with the NavigationPromptCheckpoint\n(and any other ancestor checkpoints). The component that implements the NavigationPromptCheckpoint can use the presence of registered NavigationPrompts to\ninfluence its navigational workflows as necessary."),(0,a.mdx)("h2",{id:"usage"},"Usage"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-jsx"},"import { NavigationPromptCheckpoint } from 'terra-application/lib/navigation-prompt';\n")),(0,a.mdx)("h2",{id:"props"},"Props"),(0,a.mdx)(d,{mdxType:"NavigationPromptCheckpointProps"}),(0,a.mdx)("h2",{id:"details"},"Details"),(0,a.mdx)("p",null,"Any component that navigates between stateful child components should render NavigationPromptCheckpoints around those children.\nEach NavigationPrompt rendered by a child will be registered to the NavigationPromptCheckpoints above it in the component tree.\nThe implementer of each NavigationPromptCheckpoint can use the registered data to prompt the user before navigating or prevent navigation altogether."),(0,a.mdx)("h3",{id:"onpromptchange"},(0,a.mdx)("inlineCode",{parentName:"h3"},"onPromptChange")),(0,a.mdx)("p",null,"The ",(0,a.mdx)("inlineCode",{parentName:"p"},"onPromptChange")," function prop is used to communicate NavigationPrompt registrations to the implementer of a NavigationPromptCheckpoint.\nThe function is called with an array of objects containing each registered NavigationPrompt's ",(0,a.mdx)("inlineCode",{parentName:"p"},"description")," and ",(0,a.mdx)("inlineCode",{parentName:"p"},"metaData")," properties."),(0,a.mdx)("blockquote",null,(0,a.mdx)("p",{parentName:"blockquote"},"Note: The ",(0,a.mdx)("inlineCode",{parentName:"p"},"onPromptChange")," prop will be called after each NavigationPrompt registration and removal.\nIt may be called more than once with the same array of NavigationPrompt data. Calls to ",(0,a.mdx)("inlineCode",{parentName:"p"},"setState")," within onPromptChange\nshould be performed only when necessary to minimize component updates.")),(0,a.mdx)("h3",{id:"resolveprompts"},(0,a.mdx)("inlineCode",{parentName:"h3"},"resolvePrompts")),(0,a.mdx)("p",null,"The ",(0,a.mdx)("inlineCode",{parentName:"p"},"resolvePrompts")," function can be accessed from the ref to a NavigationPromptCheckpoint. Calling ",(0,a.mdx)("inlineCode",{parentName:"p"},"resolvePrompts")," results in a\nPromise being returned and a NotificationDialog being presented to the user with options to either confirm or cancel their action.\nIf the user confirms the action, the dialog will close, and the returned Promise will be resolved. If the user cancels the action,\nthe dialog will close, and the returned Promise will be rejected. If no NavigationPrompts are detected, no dialog is presented, and\nthe returned Promise will be resolved."),(0,a.mdx)("p",null,(0,a.mdx)("inlineCode",{parentName:"p"},"resolvePrompts")," accepts either an Object or function argument. The Object should contain the text strings used to render the NotificationDialog.\nThe function should return an Object containing the text strings used to render the NotificationDialog. Additionally, the function will receive\nan array of registered NavigationPrompts as an argument. The array of prompts can be used to create dynamic strings based on the current set of registered prompts."),(0,a.mdx)("p",null,"The keys expected in the resolvePrompts Object or return value include:"),(0,a.mdx)("table",null,(0,a.mdx)("thead",{parentName:"table"},(0,a.mdx)("tr",{parentName:"thead"},(0,a.mdx)("th",{parentName:"tr",align:null},"Key"),(0,a.mdx)("th",{parentName:"tr",align:null},"Type"),(0,a.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,a.mdx)("tbody",{parentName:"table"},(0,a.mdx)("tr",{parentName:"tbody"},(0,a.mdx)("td",{parentName:"tr",align:null},(0,a.mdx)("inlineCode",{parentName:"td"},"title")),(0,a.mdx)("td",{parentName:"tr",align:null},"String"),(0,a.mdx)("td",{parentName:"tr",align:null},"The title of the NotificationDialog.")),(0,a.mdx)("tr",{parentName:"tbody"},(0,a.mdx)("td",{parentName:"tr",align:null},(0,a.mdx)("inlineCode",{parentName:"td"},"startMessage")),(0,a.mdx)("td",{parentName:"tr",align:null},"String"),(0,a.mdx)("td",{parentName:"tr",align:null},"The starting message of the NotificationDialog.")),(0,a.mdx)("tr",{parentName:"tbody"},(0,a.mdx)("td",{parentName:"tr",align:null},(0,a.mdx)("inlineCode",{parentName:"td"},"content")),(0,a.mdx)("td",{parentName:"tr",align:null},"Node"),(0,a.mdx)("td",{parentName:"tr",align:null},"The content of the NotificationDialog.")),(0,a.mdx)("tr",{parentName:"tbody"},(0,a.mdx)("td",{parentName:"tr",align:null},(0,a.mdx)("inlineCode",{parentName:"td"},"endMessage")),(0,a.mdx)("td",{parentName:"tr",align:null},"String"),(0,a.mdx)("td",{parentName:"tr",align:null},"The ending message of the NotificationDialog.")),(0,a.mdx)("tr",{parentName:"tbody"},(0,a.mdx)("td",{parentName:"tr",align:null},(0,a.mdx)("inlineCode",{parentName:"td"},"acceptButtonText")),(0,a.mdx)("td",{parentName:"tr",align:null},"String"),(0,a.mdx)("td",{parentName:"tr",align:null},"The text to render within the NotificationDialog's accept button.")),(0,a.mdx)("tr",{parentName:"tbody"},(0,a.mdx)("td",{parentName:"tr",align:null},(0,a.mdx)("inlineCode",{parentName:"td"},"rejectButtonText")),(0,a.mdx)("td",{parentName:"tr",align:null},"String"),(0,a.mdx)("td",{parentName:"tr",align:null},"The text to render within the NotificationDialog's reject button.")),(0,a.mdx)("tr",{parentName:"tbody"},(0,a.mdx)("td",{parentName:"tr",align:null},(0,a.mdx)("inlineCode",{parentName:"td"},"buttonOrder")),(0,a.mdx)("td",{parentName:"tr",align:null},"String"),(0,a.mdx)("td",{parentName:"tr",align:null},"A string indicating which action should be rendered first, required. Supported values include: ",(0,a.mdx)("inlineCode",{parentName:"td"},"acceptFirst"),", ",(0,a.mdx)("inlineCode",{parentName:"td"},"rejectFirst"),".")),(0,a.mdx)("tr",{parentName:"tbody"},(0,a.mdx)("td",{parentName:"tr",align:null},(0,a.mdx)("inlineCode",{parentName:"td"},"emphasizedAction")),(0,a.mdx)("td",{parentName:"tr",align:null},"String"),(0,a.mdx)("td",{parentName:"tr",align:null},"A string indicating which action should be rendered as emphasized. Supported values include: ",(0,a.mdx)("inlineCode",{parentName:"td"},"accept"),", ",(0,a.mdx)("inlineCode",{parentName:"td"},"reject"),", and ",(0,a.mdx)("inlineCode",{parentName:"td"},"none"),". Defaults to ",(0,a.mdx)("inlineCode",{parentName:"td"},"none"),".")))),(0,a.mdx)("p",null,"A utility function called ",(0,a.mdx)("inlineCode",{parentName:"p"},"getUnsavedChangesPromptOptions")," allows direct consumers of the NavigationPromptCheckpoint\nto match the prompt messaging provided by the components within ",(0,a.mdx)("inlineCode",{parentName:"p"},"terra-application"),"."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-jsx"},"import React, { useContext, useRef } from 'react';\nimport { ApplicationIntlContext } from 'terra-application/lib/application-intl';\nimport { NavigationPromptCheckpoint, getUnsavedChangesPromptOptions } from 'terra-application/lib/navigation-prompt';\n\nconst ExampleComponent = () => {\n  const checkpointRef = useRef();\n  const applicationIntl = useContext(ApplicationIntlContext);\n\n  function resolvePrompts() {\n    checkpointRef.current.resolvePrompts(getUnsavedChangesPromptOptions(applicationIntl)).then(() => { ... });\n  }\n\n  return (\n    <NavigationPromptCheckpoint\n      ref={checkpointRef}\n    >\n      {...}\n    </NavigationPromptCheckpoint>\n  );\n}\n")))}x.isMDXComponent=!0}}]);